(this["webpackJsonptodo-client"]=this["webpackJsonptodo-client"]||[]).push([[0],{20:function(t,e,n){t.exports=n(48)},42:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(18),c=n.n(o),l=n(8),r=n(2),s=n(3),u=n(5),m=n(4),d=n(6),b=n(7),f=n.n(b),h=(n(42),function(){return i.a.createElement("div",{className:"app-header"},i.a.createElement("h1",null,"Todo List"))}),p=n(19),E=(n(43),n(44),function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(i)))).state={label:""},n.onLabelChange=function(t){n.setState({label:t.target.value})},n.onEditClick=function(t){t.preventDefault();var e=n.state.label;(n.props.onItemEdited||function(){})(n.props.id,e)},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.setState({label:this.props.label})}},{key:"render",value:function(){return i.a.createElement("form",{className:"center-panel d-flex",onSubmit:this.onEditClick},i.a.createElement("input",{type:"text",className:"form-control edit-todo-label",value:this.state.label,onChange:this.onLabelChange}),i.a.createElement("button",{type:"submit",className:"btn btn-secondary"},"Edit"))}}]),e}(a.Component)),v=function(t){var e=t.label,n=t.onToggleDone,a=t.onDelete,o=t.onEdit,c=e;return t.toEdit&&(c=i.a.createElement(E,null)),i.a.createElement("span",{className:"todo-list-item"},i.a.createElement("span",{className:"todo-list-item-label",onClick:n},c),i.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm float-right",onClick:a},i.a.createElement("i",{className:"fa fa-trash-o"}," ")),i.a.createElement("button",{type:"button",className:"btn btn-outline-success btn-sm float-right",onClick:o},i.a.createElement("i",{className:"fa fa-edit"}," ")))},g=(n(45),function(t){var e=t.items,n=t.onDelete,a=t.onEdit,o=t.onItemEdited,c=e.map((function(t){var e=t.id,c=Object(p.a)(t,["id"]);return t.toEdit?i.a.createElement("li",{key:e,className:"list-group-item"},i.a.createElement(E,Object.assign({},t,{onItemEdited:o}))):i.a.createElement("li",{key:e,className:"list-group-item"},i.a.createElement(v,Object.assign({},c,{onDelete:function(){return n(e)},onEdit:function(){return a(e)}})))}));return i.a.createElement("ul",{className:"todo-list list-group"},c)}),y=(n(46),function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(i)))).state={label:""},n.onLabelChange=function(t){n.setState({label:t.target.value})},n.onSubmit=function(t){t.preventDefault();var e=n.state.label;n.setState({label:""}),(n.props.onItemAdded||function(){})(e)},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return i.a.createElement("form",{className:"bottom-panel d-flex",onSubmit:this.onSubmit},i.a.createElement("input",{type:"text",className:"form-control new-todo-label",value:this.state.label,onChange:this.onLabelChange,placeholder:"What needs to be done?"}),i.a.createElement("button",{type:"submit",className:"btn btn-outline-secondary"},"Add"))}}]),e}(a.Component)),j=(n(47),function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(i)))).state={items:[]},n.onItemAdded=function(t){f.a.get("/api/add?text=".concat(t)).then((function(e){n.setState((function(e){var a=n.createItem(t);return{items:[].concat(Object(l.a)(e.items),[a])}}))})).catch((function(t){alert("Sorry, the server is unavailable :(")}))},n.onItemEdited=function(t,e){f.a.get("/api/edit?text=".concat(e,"&id=").concat(t)).then((function(a){n.setState((function(n){return{items:n.items.map((function(n){return n.id===t&&(n.label=e,n.toEdit=!1),n}))}}))})).catch((function(t){alert("Sorry, the server is unavailable :(")}))},n.onDelete=function(t){f.a.get("/api/delete?id=".concat(t)).then((function(e){n.setState((function(e){var n=e.items.findIndex((function(e){return e.id===t})),a=[].concat(Object(l.a)(e.items.slice(0,n)),Object(l.a)(e.items.slice(n+1)));return a.forEach((function(t,e){t.id=e})),{items:a}}))})).catch((function(t){alert("Sorry, the server is unavailable :(")}))},n.onEdit=function(t){n.setState((function(e){return{items:e.items.map((function(e){return e.id===t?e.toEdit=!0:e.toEdit=!1,e}))}}))},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this;f.a.get("/api/list-obj").then((function(e){var n=e.data.map((function(t){return{label:t.text,id:t.id}}));t.setState({items:n})})).catch((function(t){alert("Sorry, the server is unavailable :(")}))}},{key:"createItem",value:function(t){return{id:this.state.items.length,label:t,important:!1,done:!1}}},{key:"render",value:function(){var t=this.state.items;return i.a.createElement("div",{className:"todo-app"},i.a.createElement(h,null),i.a.createElement(g,{items:t,onDelete:this.onDelete,onEdit:this.onEdit,onItemEdited:this.onItemEdited}),i.a.createElement(y,{onItemAdded:this.onItemAdded}))}}]),e}(a.Component));c.a.render(i.a.createElement(j,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.4c65c472.chunk.js.map